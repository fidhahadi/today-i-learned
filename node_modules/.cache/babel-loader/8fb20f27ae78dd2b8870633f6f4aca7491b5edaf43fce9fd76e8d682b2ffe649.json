{"ast":null,"code":"import _regeneratorRuntime from\"/home/fidha/Desktop/work/TodayILearned/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/home/fidha/Desktop/work/TodayILearned/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/home/fidha/Desktop/work/TodayILearned/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from'react';import supabase from'./supabase';import'./style.css';import CategoryFilters from'./CategoryFilters';import FactList from'./FactList';import NewFactForm from'./NewFactForm';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function App(){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),showForm=_useState2[0],setshowForm=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),facts=_useState4[0],setFacts=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),isLoading=_useState6[0],setisLoading=_useState6[1];var _useState7=useState(\"all\"),_useState8=_slicedToArray(_useState7,2),currentCategory=_useState8[0],setcurrentCategory=_useState8[1];useEffect(function(){function getFacts(){return _getFacts.apply(this,arguments);}function _getFacts(){_getFacts=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var query,_yield$query$order$li,facts,error;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:setisLoading(true);query=supabase.from(\"facts\").select(\"*\");if(currentCategory!==\"all\")query=query.eq(\"category\",currentCategory);_context.next=5;return query.order('votesInteresting',{ascending:false}).limit(1000);case 5:_yield$query$order$li=_context.sent;facts=_yield$query$order$li.data;error=_yield$query$order$li.error;if(!error)setFacts(facts);//else alert(\"There was a problem getting a data\");\nsetisLoading(false);case 10:case\"end\":return _context.stop();}},_callee);}));return _getFacts.apply(this,arguments);}getFacts();},[currentCategory]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Header,{showForm:showForm,setshowForm:setshowForm}),showForm?/*#__PURE__*/_jsx(NewFactForm,{setFacts:setFacts,setshowForm:setshowForm}):null,/*#__PURE__*/_jsxs(\"main\",{className:\"main\",children:[/*#__PURE__*/_jsx(CategoryFilters,{setcurrentCategory:setcurrentCategory}),isLoading?/*#__PURE__*/_jsx(Loader,{}):/*#__PURE__*/_jsx(FactList,{facts:facts,setFacts:setFacts})]})]});}function Loader(){return/*#__PURE__*/_jsx(\"p\",{className:\"message\",children:\"Loading....\"});}function Header(_ref){var showForm=_ref.showForm,setshowForm=_ref.setshowForm;return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"header\",{className:\"header\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"logo\",children:[/*#__PURE__*/_jsx(\"img\",{src:\"logo.png\",height:\"68\",width:\"68\",alt:\"Today I Learned Logo\"}),/*#__PURE__*/_jsx(\"h1\",{children:\"Today I Learned\"})]}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return setshowForm(function(show){return!show;});},className:\"btn-open btn btn-large\",children:showForm?\"Close\":\"Share a Fact\"})]})});}export default App;","map":{"version":3,"names":["React","useEffect","useState","supabase","CategoryFilters","FactList","NewFactForm","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","App","_useState","_useState2","_slicedToArray","showForm","setshowForm","_useState3","_useState4","facts","setFacts","_useState5","_useState6","isLoading","setisLoading","_useState7","_useState8","currentCategory","setcurrentCategory","getFacts","_getFacts","apply","arguments","_asyncToGenerator","_regeneratorRuntime","mark","_callee","query","_yield$query$order$li","error","wrap","_callee$","_context","prev","next","from","select","eq","order","ascending","limit","sent","data","stop","children","Header","className","Loader","_ref","src","height","width","alt","onClick","show"],"sources":["/home/fidha/Desktop/work/TodayILearned/src/App.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport supabase from './supabase';\nimport './style.css';\nimport CategoryFilters from './CategoryFilters';\nimport FactList from './FactList';\nimport NewFactForm from './NewFactForm';\n\n\nfunction App() {\n  const [showForm, setshowForm] = useState(false);\n  const [facts, setFacts] = useState([]);\n  const [isLoading, setisLoading] = useState(false);\n  const [currentCategory, setcurrentCategory] = useState(\"all\");\n\n\n  useEffect(function () {\n    async function getFacts() {\n      setisLoading(true);\n\n      let query = supabase.from(\"facts\").select(\"*\");\n      if (currentCategory !== \"all\")\n        query = query.eq(\"category\", currentCategory);\n\n\n      const { data: facts, error } = await query\n        .order('votesInteresting', { ascending: false }).limit(1000);\n      if (!error)\n        setFacts(facts);\n      //else alert(\"There was a problem getting a data\");\n      setisLoading(false);\n    }\n    getFacts();\n  }, [currentCategory]);\n\n  return (\n    <>\n      <Header showForm={showForm} setshowForm={setshowForm} />\n      {showForm ? <NewFactForm setFacts={setFacts} setshowForm={setshowForm} /> : null}\n      <main className='main'>\n        <CategoryFilters setcurrentCategory={setcurrentCategory} />\n        {isLoading ? <Loader /> : <FactList facts={facts} setFacts={setFacts} />}\n\n      </main>\n    </>\n  )\n}\n\n\nfunction Loader() {\n  return <p className=\"message\">Loading....</p>\n}\n\nfunction Header({ showForm, setshowForm }) {\n  return <>\n    <header className=\"header\">\n      <div className=\"logo\">\n        <img src=\"logo.png\" height=\"68\" width=\"68\" alt=\"Today I Learned Logo\" />\n        <h1>Today I Learned</h1>\n      </div>\n\n      <button onClick={() => setshowForm((show) => !show)} className=\"btn-open btn btn-large\">{showForm ? `Close` : `Share a Fact`}</button>\n    </header>\n  </>\n}\n\nexport default App"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}